[{"/home/polash/Desktop/amazon-clone/src/component/App.js":"1","/home/polash/Desktop/amazon-clone/src/component/Header/Header.js":"2","/home/polash/Desktop/amazon-clone/src/component/Home/Home.js":"3","/home/polash/Desktop/amazon-clone/src/index.js":"4","/home/polash/Desktop/amazon-clone/src/component/Home/Product/Product.js":"5","/home/polash/Desktop/amazon-clone/src/component/Footer/Footer.js":"6","/home/polash/Desktop/amazon-clone/src/component/CheckOut/SubTotal/SubTotal.js":"7","/home/polash/Desktop/amazon-clone/src/component/StateProvider/StateProvider.js":"8","/home/polash/Desktop/amazon-clone/src/component/reducer/reducer.js":"9","/home/polash/Desktop/amazon-clone/src/component/CheckOut/CheckOut.js":"10","/home/polash/Desktop/amazon-clone/src/component/CheckOut/CheckOutProduct/CheckOutProduct.js":"11","/home/polash/Desktop/amazon-clone/src/component/Login/Login.js":"12","/home/polash/Desktop/amazon-clone/src/component/Firebase/Firebase.js":"13","/home/polash/Desktop/amazon-clone/src/component/Payment/Payment.js":"14","/home/polash/Desktop/amazon-clone/src/component/axios/axios.js":"15","/home/polash/Desktop/amazon-clone/src/component/Orders/Orders.js":"16","/home/polash/Desktop/amazon-clone/src/component/Orders/Order/Order.js":"17"},{"size":2362,"mtime":1608016251586,"results":"18","hashOfConfig":"19"},{"size":2321,"mtime":1608022189389,"results":"20","hashOfConfig":"19"},{"size":4265,"mtime":1607953584209,"results":"21","hashOfConfig":"22"},{"size":435,"mtime":1607944468488,"results":"23","hashOfConfig":"19"},{"size":1284,"mtime":1607953434405,"results":"24","hashOfConfig":"19"},{"size":2516,"mtime":1607932379592,"results":"25","hashOfConfig":"19"},{"size":1245,"mtime":1608006899141,"results":"26","hashOfConfig":"19"},{"size":480,"mtime":1607943900733,"results":"27","hashOfConfig":"19"},{"size":1251,"mtime":1608016137673,"results":"28","hashOfConfig":"19"},{"size":1306,"mtime":1607964757172,"results":"29","hashOfConfig":"19"},{"size":1280,"mtime":1608022090399,"results":"30","hashOfConfig":"19"},{"size":2169,"mtime":1607962716621,"results":"31","hashOfConfig":"19"},{"size":578,"mtime":1607965737228,"results":"32","hashOfConfig":"19"},{"size":5361,"mtime":1608023358378,"results":"33","hashOfConfig":"19"},{"size":165,"mtime":1608014724408,"results":"34","hashOfConfig":"19"},{"size":1150,"mtime":1608021237264,"results":"35","hashOfConfig":"19"},{"size":1247,"mtime":1608022044704,"results":"36","hashOfConfig":"19"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"40"},"oy2e1r",{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"b2fj81",{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"43"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"40"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"43"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"40"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/polash/Desktop/amazon-clone/src/component/App.js",["79","80"],"import React, { useEffect } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { Elements } from '@stripe/react-stripe-js';\n\nimport './App.css';\nimport Header from './Header/Header';\nimport Home from './Home/Home';\nimport Footer from './Footer/Footer';\nimport CheckOut from './CheckOut/CheckOut';\nimport Login from './Login/Login';\nimport { auth } from './Firebase/Firebase';\nimport { useStateValue } from './StateProvider/StateProvider';\nimport Payment from './Payment/Payment';\nimport Orders from './Orders/Orders';\n\nconst promise = loadStripe('pk_test_51HyVzHJOSZQVKTCXCNMXMkMoCAcDNhbx3NLB9dQJ9i6whkp9TNHLzUeiNS4Ky6tiWWVMjQP6GTbgz5TUYHfi746i00cbqeTRvK');\n\nconst App = () => {\n    const [{ }, dispatch ] = useStateValue();\n\n    useEffect(() => {\n        auth.onAuthStateChanged(authUser => {\n            if(authUser) {\n                dispatch({\n                    type: 'SET_USER',\n                    user: authUser\n                })\n            } else {\n                dispatch({\n                    type: 'SET_USER',\n                    user: null\n                })\n            }\n        })\n    }, []);\n\n    return (\n        <Router>\n            <div className=\"app\">\n                <Switch>\n                    <Route path=\"/orders\">\n                        <Header />\n                        <Orders />\n                        <Footer />\n                    </Route>\n                    <Route path=\"/payment\">\n                        <Header />\n                        <Elements stripe={promise}>\n                            <Payment />\n                        </Elements>\n                        <Footer />\n                    </Route>\n                    <Route path=\"/login\">\n                        <Header />\n                        <Login />\n                        <Footer />\n                    </Route>\n                    <Route path=\"/checkout\">\n                        <Header />\n                        <CheckOut />\n                        <Footer />\n                    </Route>\n                    <Route path=\"/\">\n                        <Header />\n                        <Home />\n                        <Footer />\n                    </Route>\n                </Switch>\n            </div>\n        </Router>\n    );\n};\n\nexport default App;",["81","82"],"/home/polash/Desktop/amazon-clone/src/component/Header/Header.js",[],["83","84"],"/home/polash/Desktop/amazon-clone/src/component/Home/Home.js",[],"/home/polash/Desktop/amazon-clone/src/index.js",[],"/home/polash/Desktop/amazon-clone/src/component/Home/Product/Product.js",["85"],"import React from 'react';\n\nimport './Product.css';\nimport { useStateValue } from '../../StateProvider/StateProvider';\n\nconst Product = ({ id, title, image, price, rating }) => {\n    const [ { basket }, dispatch ] = useStateValue();\n\n    const addToBasker = () => {\n        dispatch({\n            type: 'ADD_TO_BASKET',\n            item: {\n                id: id,\n                title: title,\n                image: image,\n                price: price,\n                rating: rating,\n            }, \n        });\n    };\n\n    return (\n        <div className=\"product\" key={id}>\n            <div className=\"product__info\">\n                <p>{title}</p>\n                <p className=\"product__price\">\n                    <small>$ </small>\n                    <small>{ price}</small>\n                </p>\n                <div className=\"product__rating\">\n                    {Array(rating)\n                        .fill()\n                        .map((_, i) => (\n                            <p key={i}>‚≠ê</p>\n                        ))}\n                </div>\n            </div>\n            <img \n                src={image}\n                alt=\"hp-monitor\"\n            />\n            <button onClick={addToBasker}>Add to Cart</button>\n        </div>\n    );\n};\n\nexport default Product;","/home/polash/Desktop/amazon-clone/src/component/Footer/Footer.js",[],"/home/polash/Desktop/amazon-clone/src/component/CheckOut/SubTotal/SubTotal.js",["86"],"import React from 'react';\nimport CurrencyFormat from 'react-currency-format';\nimport { useHistory } from 'react-router-dom';\n\nimport './SubTotal.css';\nimport { useStateValue } from '../../StateProvider/StateProvider';\nimport { getBasketTotal } from '../../reducer/reducer';\n\nconst SubTotal = () => {\n    const history = useHistory();\n    const [ { basket }, dispatch ] = useStateValue();\n\n    return (\n        <div className=\"subTotal\">\n            <CurrencyFormat \n                renderText={(value) => (\n                    <>\n                    <p>\n                        Subtotal ({basket?.length} items): <strong>{value}</strong>\n                    </p>\n                    <small className=\"subtotal__gift\">\n                        <input type=\"checkbox\"/> This order contains a gift\n                    </small>\n                    </>\n                )}\n                decimalScale={2}\n                value={getBasketTotal(basket)}\n                displayType={\"text\"}\n                thousandSeparator={true}\n                prefix={\"$\"}\n            />\n            <button onClick={e => history.push(\"/payment\")} className=\"subTotal__CheckoutButton\">Proceed to Checkout</button>\n        </div>\n    );\n};\n\nexport default SubTotal;","/home/polash/Desktop/amazon-clone/src/component/StateProvider/StateProvider.js",[],"/home/polash/Desktop/amazon-clone/src/component/reducer/reducer.js",[],["87","88"],"/home/polash/Desktop/amazon-clone/src/component/CheckOut/CheckOut.js",["89"],"import React from 'react';\n\nimport './CheckOut.css';\nimport SubTotal from './SubTotal/SubTotal';\nimport CheckOutProduct from './CheckOutProduct/CheckOutProduct';\nimport { useStateValue } from '../StateProvider/StateProvider';\n\nconst CheckOut = () => {\n    const [ { basket, user }, dispatch ] = useStateValue();\n\n    return (\n        <div className=\"checkOut\">\n            <div className=\"checkOut__left\">\n                <img \n                    className=\"checkOut__ad\"\n                    src=\"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg\"\n                    alt=\"checkOut-ad\"\n                />\n                <div className=\"checkOut__title\">\n                    <h4>{user?.email}</h4>\n                    <h2>Your Shopping Cart</h2>\n                </div>\n                {basket.map(item => (\n                    <CheckOutProduct \n                        id={item.id}\n                        title={item.title}\n                        image={item.image}\n                        price={item.price}\n                        rating={item.rating}\n                    />\n                ))}\n            </div>\n            <div className=\"checkOut__right\">\n                <SubTotal />\n            </div>\n        </div>\n    );\n};\n\nexport default CheckOut;","/home/polash/Desktop/amazon-clone/src/component/CheckOut/CheckOutProduct/CheckOutProduct.js",["90"],"/home/polash/Desktop/amazon-clone/src/component/Login/Login.js",[],"/home/polash/Desktop/amazon-clone/src/component/Firebase/Firebase.js",[],"/home/polash/Desktop/amazon-clone/src/component/Payment/Payment.js",["91","92"],"import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\nimport CurrencyFormat from 'react-currency-format';\n\nimport './Payment.css';\nimport { useStateValue } from '../StateProvider/StateProvider';\nimport CheckOutProduct from '../CheckOut/CheckOutProduct/CheckOutProduct';\nimport { getBasketTotal } from '../reducer/reducer';\nimport axios from '../axios/axios';\nimport { db } from '../Firebase/Firebase'\n\n\nconst Payment = () => {\n    const history = useHistory();\n    const [ { basket, user }, dispatch ] = useStateValue();\n\n    const stripe = useStripe();\n    const elements = useElements();\n\n    const [ error, setError ] = useState(null);\n    const [ disabled, setDisabled ] = useState(true);\n\n    const [ succeeded, setSucceeded ] = useState(false);\n    const [ processing, setProcessing ] = useState(\"\");\n\n    const [ clientSecret, setClientSecret ] = useState(true);\n\n    useState(() => {\n        // Client Secret\n        const getClientSecret = async () => {\n            const response = await axios({\n                method: 'post',\n                url: `/payments/create?total=${getBasketTotal(basket) * 100}`\n            })\n\n            setClientSecret(response.data.clientSecret);\n        }\n\n        getClientSecret();\n    }, [basket]);\n\n    console.log('THE SECRET IS >>>>>>>', clientSecret);\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        // Stripe\n        setProcessing(true);\n\n        // const payload = await stripe\n        const payload = await stripe.confirmCardPayment(clientSecret, {\n            payment_method: {\n                card: elements.getElement(CardElement)\n            }\n        }).then(({ paymentIntent }) => {\n            // PaymentIntent = payment confirmation\n            const data = {\n                basket: basket,\n                amount: paymentIntent.amount,\n                created: paymentIntent.created\n            }\n\n            db\n              .collection('users')\n              .doc(user?.uid)\n              .collection('orders')\n              .doc(paymentIntent.id)\n              .set(data)\n\n            setSucceeded(true);\n            setError(null);\n            setProcessing(false);\n\n            dispatch({\n                type: 'EMPTY_BASKET'\n            })\n\n            history.replace('/orders');\n        })\n    }\n\n    const handleChange = event => {\n        setDisabled(event.empty);\n        setError(event.error ? event.error.message : \"\");\n    }\n\n    return (\n        <div className=\"payment\">\n            <div className=\"payment__container\">\n                <h1>\n                    Checkout {basket?.length} items\n                </h1>\n                <div className=\"payment__section\">\n                    <div className=\"payment__title\">\n                        <h3>Delivery Address</h3>\n                    </div>\n                    <div className=\"payment__address\">\n                        <p>{user?.email}</p>\n                        <p>123 Main Street Lane</p>\n                        <p>San Francisco, CA</p>\n                    </div>\n                </div>\n                <div className=\"payment__section\">\n                    <div className=\"payment__title\">\n                        <h3>Review items and Delivery</h3>\n                    </div>\n                    <div className=\"payment__items\">\n                        {basket.map(item => (\n                            <CheckOutProduct \n                                id={item.id}\n                                title={item.title}\n                                image={item.image}\n                                price={item.price}\n                                rating={item.rating}\n                            />\n                        ))}\n                    </div>\n                </div>\n                <div className=\"payment__section\">\n                    <div className=\"payment__title\">\n                        <h3>Payment Method</h3>\n                    </div>\n                    <div className=\"payment__details\">\n                        {/* Stripe */}\n                        <form onSubmit={handleSubmit}>\n                            <CardElement onChange={handleChange} />\n                            <div className=\"payment__priceContainer\">\n                                <CurrencyFormat \n                                    renderText={(value) => (\n                                        <h3>Order Total: {value}</h3>\n                                    )}\n                                    decimalScale={2}\n                                    value={getBasketTotal(basket)}\n                                    displayType={\"text\"}\n                                    thousandSeparator={true}\n                                    prefix={\"$\"}\n                                />\n                                <button disabled={processing || disabled || succeeded}>\n                                    <span>{processing ? <p>Processing</p> : \"Buy Now\"}</span>\n                                </button>\n                            </div>\n                                {error && <div>{error}</div>}\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Payment;","/home/polash/Desktop/amazon-clone/src/component/axios/axios.js",[],"/home/polash/Desktop/amazon-clone/src/component/Orders/Orders.js",["93","94"],"/home/polash/Desktop/amazon-clone/src/component/Orders/Order/Order.js",[],{"ruleId":"95","severity":1,"message":"96","line":20,"column":12,"nodeType":"97","messageId":"98","endLine":20,"endColumn":15},{"ruleId":"99","severity":1,"message":"100","line":36,"column":8,"nodeType":"101","endLine":36,"endColumn":10,"suggestions":"102"},{"ruleId":"103","replacedBy":"104"},{"ruleId":"105","replacedBy":"106"},{"ruleId":"103","replacedBy":"107"},{"ruleId":"105","replacedBy":"108"},{"ruleId":"109","severity":1,"message":"110","line":7,"column":15,"nodeType":"111","messageId":"112","endLine":7,"endColumn":21},{"ruleId":"109","severity":1,"message":"113","line":11,"column":25,"nodeType":"111","messageId":"112","endLine":11,"endColumn":33},{"ruleId":"103","replacedBy":"114"},{"ruleId":"105","replacedBy":"115"},{"ruleId":"109","severity":1,"message":"113","line":9,"column":31,"nodeType":"111","messageId":"112","endLine":9,"endColumn":39},{"ruleId":"109","severity":1,"message":"110","line":7,"column":15,"nodeType":"111","messageId":"112","endLine":7,"endColumn":21},{"ruleId":"109","severity":1,"message":"116","line":1,"column":27,"nodeType":"111","messageId":"112","endLine":1,"endColumn":36},{"ruleId":"109","severity":1,"message":"117","line":51,"column":15,"nodeType":"111","messageId":"112","endLine":51,"endColumn":22},{"ruleId":"109","severity":1,"message":"110","line":10,"column":14,"nodeType":"111","messageId":"112","endLine":10,"endColumn":20},{"ruleId":"109","severity":1,"message":"113","line":10,"column":30,"nodeType":"111","messageId":"112","endLine":10,"endColumn":38},"no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["118"],"no-native-reassign",["119"],"no-negated-in-lhs",["120"],["119"],["120"],"no-unused-vars","'basket' is assigned a value but never used.","Identifier","unusedVar","'dispatch' is assigned a value but never used.",["119"],["120"],"'useEffect' is defined but never used.","'payload' is assigned a value but never used.",{"desc":"121","fix":"122"},"no-global-assign","no-unsafe-negation","Update the dependencies array to be: [dispatch]",{"range":"123","text":"124"},[1201,1203],"[dispatch]"]